---
title: "BEX6510 Assignment"
---

## Explain how this paper relates to my research

# Summary of Product Plots Paper

## 1 Introduction
- Visualising tables of counts, proportions, and probabilities
- Framework for visualisations of categorical data
- Focuses on  area of charts - area of graphical element is proportional to the underlying count, proportion or probability
- product plots 
  - main idea: width x height = area 
  - and conditional x marginal = joint
  - also have inverse where high dimensional distribution can be factorised into a product of low-dimensional conditional and marginal distributions.
- To illustrate the idea they use the same data from a happiness survey in all examples. 
  - Discrete: age, year
  - Categorical: degree, relative financial status, happiness, health, marital status, sex
  - Continuous: wstall (probability weight)?

## 2 Related Work
- Other efforts to develop domain specific languages for visualisation are:
  - APT [6] and VisQL [7]
    - *Add notes from these papers*
    - . This work is similar but carves out a smaller niche.
    - Compared to these product plots are less expressive but more efficient because the number of primitives (simple elemements) required to describe the smaller domain is smaller (?)
  - HiVE [8]
    - *Add notes from this paper*
  - Polaris [9]
    - *Add notes from this paper*
    - essentially a 3D extension of the trellis framework [10,11]

## 3 Graphical Primitives
- area must be proportional to count.
  - key constraint for area plots
  - total area is usually constrained
- partitions must be disjoint.
  - to be able to see the complete area each rectangle must be not overlapping. 
- partitions must be rectangular
  - allows many interesting pecterptual tasks to only require comparing lengths or positions along a common scale 
  - these are easier than comparing areas
  - little evidence rectangles are the best shape for comparison [15,16]
- These constraints give rise to 4 graphical primitives

### 3.1 1d primitives
- There are three 1d primitives
  - bars: height s proportional to value and width is equally divided. Occupy mean(x-max(x)) of the total area *(???)* isnt that the negative of the whitespace?? shouldnt it be mean(X/max(X))
  - splines: width proportional to value, height occupies full range.
  - tiles: No restrictions on height and width, just tile the plane with rectangles and try to keep the aspect ratio of each rectangle close to 1. A squarified treemap.
- Each visualisation has strengths and weaknesses
  - easy to compare the value associated with bars because comparing position on a common scale
  - splines and tiles are harder to read but work better reccursively

### 3.2 2d primitives
- all 2d primitives are created by combining 1d primitives except for one
  - fluct: has height and width proportional to the square root of the count and is arranged on a rectangular grid formed by the levels of the two variables. 
  - allows comparisons both vertically and horizontally
  - special case occurs when two variables are jointly uniformly distributed, usually as a result of conditioning. useful for identifying missing combinations


## 4 Probabulity and Plot Products
- To construct plots of higher dimensions we need a way to decompose them into 1d and 2d components.

### 4.1 Joint distribution are the product of marginals and conditionals
- turn data into a PMF
- Variables are happy and sex are shown in several tables. 
- Joint distribution
  - Q: what proportion of all people are male and very happy?
- Conditional distributions
  - Q: what proportion of males are not too happy?
- Marginal Distributions
  - Q: What proportion of respondents were male? What proportion were very happy?
- Have the equation $f(x|y) = f(x,y)/f(y)$
  - Therefore given a conditional and a marginal we can find the joint distribution
  - $f(x,y) = f(x|y)f(y)$
  - Only the joint distribution contains the full information about the relationship between all variables involved
  - can get the marginal distribution by integrating/summing the other variable out, i.e. $f(x)=\int_y{f(x,y)}$
  - These definitions extend to higher dimensions
    - $f(x,y,z) = f(x,y|z)f(z)$
    - $f(x,y,z) = f(x|z,y)f(z,y)$
    - $f(x,y,z) = f(x|y,z)f(y|z)f(z)$
- Therefore we can build any high dimensional PMF as a product of low-dimensional conditional and marginal PMFs
- Use low-dimensional primitives as graphical analog of this multiplication

### 4.2 Area is the product of height and width
- area is also a product so it can be connected
  - e.g. 1 mosaic plot: height f(sex|happy) X width = f(happy) = area f(sex, happy)
  - e.g. 2: stacked bar chart: position f(happy) X proportion f(sex|happy) = length f(sex, happy) ~ area = c*f(happy, sex).
- Algorithm gives a rough idea of computation
  - calculate one marginal and i conditional distributions
  - for each probability in the marginal distribution, 
    - divide the probabilities (aka the bounds) into i sets of new bounds, one for each level of the categorical variabe. 
    - if i=1 like in the example we keep the original bounds
    - for each new bound there is a matching conditional distribution, call the partition function
    - drop one element from the list of drawing primitives
- Different partitions reveal different features
  - Hard to identify if this is because they used splines for both of the first plot but splines and bar for the second plot or because of the different distributions.
  - $f(marial,age) = f(marital|age)f(age)$ highlights most young people are unmaried
  - $f(marial,age) = f(age|marital)f(marital)$ highlights few unmarried people over the age of 30
  - I am also not sure how much I agree with this assessment of what the plots say. I don't disagree with the premise though. I do wonder if that is because both comments are about being unmarried.
- Conditioning is also a useful tool because it allows us to remove relationships that are known or uninteresting.
  - Give example of $f(happy, health, financial)$
  - When show all as raw proportions $f(happy, health, financial)$ = $f(happy| health, financial)f(heath,financial)$ your main take away is that most people are in good health and average financial standing, however it is difficult to see how happiness varies within these conditions
  - If you condition on health and financial status, comparing happiness across these groups becomes easier because comparing positions along a common scale is an easier perception task.
  - Depending on the comparison we are most interested in, we can make it easier to compare across different variables

## 5 Existing Plot Types
1D
  - Bar chart (hbar)
  - Column chart (vbar)
  - Spineplot (spine)
  - Fluctuation chart (fluct)
2D
  - Stacked bar chart (1hbar and 1vspine)
  - Nested bar chart (2 hbars)
  - Equal bin size (1 fluct and 1 vspine)
  - Mosaic plot (alternating hspine vspine)
  - Double Decker (n-1 hspines and 1 vspine)
  - Treemap (n spines)
  - Squarified treemap (n tiles)
  - Generalised treemaps (any plot ending with a tile)
  - Trellis graphics (similar but not identical, created by conditioning in tellising variables)

## 6 Display Considerations
- Hard to label axis
  - often two variables end up on the same axis so we cant label it.
  - there are other ways to label the axis other than colour
    - e.g. text labels used to occupy the space of the region they label
    - in the interactive setting can have linked brushing from high dimensional to low dimensional plots
    - some apsect ratios are more aesthetically pleasing, e.g. the square for the fluct. wonder if aspect ratios close to the golden ratio might be more appealing
    - does not seem to be previous work on aspect ratios and aesthetics although they do seem to affect perception
    - need more research on aesthetics and usability

## Variations and Extensions
### 7.1 Weighting
### 7.2 Continuous Data
### 7.3 Area not proportional to weight
### 7.4 Non-disjoint partitions
### 7.5 Non-rectangular partitions
## 8 R Package
## 9 Conclusion

# Extension of Work
- Does this work extend to expected values or visualisations of other mathematical process?
- Could be expanded by looking at which other perceptual tasks are combinations of others
- extension to continuous case
- extension on the connection between what questions are best suited for each distribution