---
title: "Part 2: What do we mean when we talk about Uncertainty"
author: "Harriet Mason"
image: feature.jpeg
bibliography: references.bib
editor: 
  markdown: 
    wrap: 72
knitr:
  opts_chunk: 
    warning: FALSE
    message: FALSE
    echo: FALSE
---
<!--
## High Variance Lifestyles
Recently I asked my doctor if I could be put on some kind of mood stabilisers. I had been experiencing a lot of aggrevation, stress and general negative vibes as a result of trying to tie up the tendancy of my due to having to engage with my ex-housemate. Over the few weeks prior to my doctor appointment, my housemate sara had hit my dog, hit me in the face with a plate (which resulted in the police being called to the house), stole some of our stuff, refused to sign the lease transfer documents, left a large amount of broken furniture at the house, refused to pay her outstanding $700 in rent and bills, set fire to the mantle and refused to fix it, constantly posted on social media calling myself and my other housemates crazy children, tried to convince the person who we found to take over her lease to not move in, and finally ghosted us when we tried to confront her about these things. At one point the house group chat turned to asking if it would be easier to just kill her and deal with the police than continue to deal with her. Upon hearing this my doctor said he didn't think I needed mood stabilizers because someone terrorizing your place of living and stealing your things and assulting you would lead any reasoable person to be upset and he didn't think mood stabilisers would help. While I somewhat agree, seeing her message the new housemate saying she "wants this to be over and done with already" should not be enough to send me into a two day rage. This conflict which would seem completely out of the ordinary to most people is a regular occurence for me and while I understand it is extreme, at some point I have to be able to work at a job. If my plan for emotional regulation is to assume my mood will usually be in the healthy range and handle the few cases it isn't when they arise, then I might as well accept my current situation which is 100 productive days in the year. There are obvious triggers and ways to manage this. I will never be able to entirely remove "off days" from my life, but I can decrease their frequency and length with a better understanding of its sources. If I understand *what* about my demon housemate Sara and others like her sends me into an angry death spiral, I can redirect the energy and have a better control of the situation. Specifically, understanding the sources of the variance in my life will help me understand the best ways to manage it. Uncertainty in a model is quite similar. In a lot of ways, I think of my struggles to contain my mood as similar to my struggles to estimate uncertainty.
-->
Many aspects of uncertainty become muddled, lost or ignored through the data visualization process. Authors are often unaware of how this occurs and to what degree, and rather than pick apart the issue, ignore it entirely.

## Defining Uncertainty
It is a good idea to have a definition of uncertainty before we start trying to pick apart its sources and how it can be represented. The problem is there isn't a strict commonly accepted definition of uncertainty. Argot et al. comments that “there are almost as many definitions of uncertainty as there are treatments of the subject” [1]. This mismash of terminology leads to a large body of work, all claiming to finding the best visualisation or expression of of "uncertainty" but most don't even seem to agree on what uncertainty is. When papers on uncertainty do offer a definition, it often specifies aspects of, categories of, or philisophical perspective on uncertainty, leading to a definition that is so narrow it is not particularly useful. A definition that only covers either Baysian or Frequentist statistcians is not broad enough for our uses. On the other hand the layperson definition of uncertainty is too broad. Caimbridge dictionary defines uncertainty as "a situation in which something is not known, or something that is not known or certain" [2]. It is difficult to turn this definition into a mathematical one. Although most papers don't agree on their definition of uncertainty, that doesn't mean there aren't any good ones. I am going to follow the definition set by by Walker and Rotmans (2003) in their paper "Defining Uncertainty"[3].

Walker and Rotmans paper not only gives a general definition of "uncertainty", but also defines a topology that untangles the conflated sub-categories that most other definitions get caught up in. Definition from other papers are either a description of one of their specified sub-catetegories (which are detailled in the specifying uncertainty section), or are a less specific version of Walter and Rotmans definition. They define uncertainty as "any deviation from the unachievable ideal of completely deterministic knowledge of the relevant system". This is the definition I will use to map out a mathematical definition of uncertainty.

In laymens terms, this definition says that uncertainty is anything we cant know with 100% certainty. This diverges from a definition of randomness because a system can be deterministic, not random, but if we have incomplete knowledge of this deterministic event, it is uncertain. Additionally this definition does not speak to a general uncertainty, you have to specify the "relevant system". I think of this as identifying the random variable we are dealing with. This definition also avoids two pitfalls that comes with describes uncertainty as a variance, something that already has a mathematical definition. The first pitfall is that variance is inherently tied to a measure of central tendancy which is not necessarily true of uncertainty in general. The second pitfall is that we don't want to confuse uncertainty itself with one possible expressions of uncertainty. Expressing a value as a range of possible or likely values is disconnected from its expected value, and is distinct from our definition of variance but would be considered a valid expressions of uncertainty nonetheless.


Notes for this section
- 100% certainty does not mean 100% accuracy. 
- Random variable is not a variable or random, it is the mapping of a function from possible outcomes in the sample space to a measurable space (often the real numbers).
- The interpretation of probability is philosophically complicated, and even in specific cases is not always straightforward. The purely mathematical analysis of random variables is independent of such interpretational difficulties, and can be based upon a rigorous axiomatic setup.(From wiki)
- Broadly uncertainty is some expression that summaries the sample space of a random variable. A range is an expression of uncertainty, and it describes the entire sample space (or observed sample space if we are working with actual data).
- Let X be a random variable that describes our "knowledge" of an event.

Variance thoughts
- Expected value and variance
- Range
- Median and IQR



## Specifying Uncertainty
While "Defining Uncertainty" does not provide a strict mathematical definition, it does provide a typology of uncertainty, which is in some ways, more useful. Lets start this section off with a simple plot hopefully everyone has seen before. This is a plot taken from Forecasting: Principles and Practice [@robsbook]. It is a simple depiction time series data, but I have also included a forecast (using an ARIMA model) that has some uncertainty surrounding it.

```{r}
library(fpp3)

# Plot PBS Data with ARIMA Model
h02 <- PBS |>
  filter(ATC2 == "H02") |>
  summarise(Cost = sum(Cost)/1e6) 
p <- h02|>
  model(ARIMA(log(Cost) ~ 0 + pdq(3,0,1) + PDQ(0,1,2))) |>
  forecast() |>
  autoplot(h02) +
  labs(y=" $AU (millions)",
       title="Corticosteroid drug scripts (H02) sales")
p
```

If you use the fable package to make your forecasts, the default plot will display a confidence interval around your forecast. I enjoy this feature which probably won't shock anyone. Sometimes, when I try to think about estimating a true confidence interval, accounting for every possible random event, I become so overwhelmed it gives me anxiety. This is not an uncommon feeling it turns out. In my previous post I discussed reasons people didn't visualise uncertainty, one of which was people being "uncertainty about the uncertainty". This uncertainty leads people to prefer to do nothing (visualise no uncertainty) than even start to deal with the insurmountable problem of quantifying uncertainty. Default confidence intervals do not require users to understand and quantify the uncertainty themselves, but it does force *something* to be put down in terms of quantifiable uncertainty. It prevents the "omission through incaction" stance because in order to *remove* the uncertainty, you need to take action. Obviously I would prefer people understand the uncertainty behind their models, but beggars can't be choosers.

Now that we have some depiction of some uncertainty this leads to move questions (which it turns out people hate, which is another reason they dont visualise uncertainty). What "uncertainty" is this plot actually depicting? Like *where* did the numbers that make those confidence intervals come from? *How* did we even decide what is worth calculating? *What* situations and outcomes do these confidence intervals describe? To these questions I say, lets hold on and take a step back. I could hear your voice breaking into a fever pitch (or I guess your voice as it sounds in my head). The mean green uncertainty machine isn't breaking into your house and rifling through your stuff and stealing your belongings. 

<center>![](meangreenmachine.jpeg)</center>

Unlike you, I actually have something to fear. Your uncertainty problem is actually (somewhat) easy to manage, you just need to understand it. That didn't work with calming with my ex-housemate, I tried.

# Organising Uncertainty
There are a few of typologies for uncertainty, but I think all of them end up being subsets of the one laid out in the paper "Defining Uncertainty" [@utypo]. Since that typology includes the others, we are just going to work with that work (its also an easy to read paper that gets a lot across with its word count). The paper also uses a definition of uncertainty that I enjoyed. They defined uncertainty as any departure from the unachievable ideal of complete determinism. Therefore if we can't predict something with perfect accuracy, it had uncertainty. 

In this typology, there are three things we need to consider for each "uncertainty" we encounter through the modelling process. First, consider the source of the uncertainty. Is this uncertainty coming from inaccurate measurements or a poorly defined model? This is the *location* of the uncertainty. Second, consider how well you can quantify this uncertainty. Do you know exactly how much measurement error there is in each observation or are you not even aware if there is or isnt measurement error? This is te *level* of your uncertainty, and it ranges from discrete to total ignorance. Finally, consider how this uncertainty came into existence. Is it a result of a naturally random process (epistemic) or is it due to imperfect information and could be improved (aleatory). This is the *nature* of your uncertainty. With this, we can map every uncertainty (theoretically but I'm not sure of the use practically) in a 3D space that is defined by its location, level, and nature.

<center>![](3duncertainty.jpeg)</center>

You may be thinking to yourself, well this typology is well and good, but how on earth do I use it? Lets go through an example using the data we used to forecast earlier.

<center>![](typologyvis.jpeg)</center>

# Applying the Typology
First, lets take a look at the data we were forecasting with before, and where those confidence intervals came from.

```{r}
p
```

You may not be super experienced with time series data or forecasting, and that's OK (honestly I have taken like two courses in it and then pretended forecasting doesn't exist outside that). 


You need to bring this insible under the murky water uncertainty and bring it into the light, giving us a bright and shining visible uncertainty.
- whenever you encounter a new uncertainty you have one of two options.
1) try and quantify it and include it in your intervals (usually by expanding it)
2) give up on trying to quantify it and include it as an assumption.

Alternative definitions:
- degree to which the lack of knowledge about the amount of error is responsible for hesitancy in accepting results and observations without caution - (G. J. Hunter and M.F. Goodchild. Managing uncertainty in spatial databases: Putting theory into practice VIA The Visualization of Uncertain Data: Methods and Problems)
- In its broadest sense, uncertainty refers to knowledge of possible deviation from a “true” value, but without precise knowledge of the magnitude. - (Modelling and visualizing multiple spatial uncertainties)
- we defined ambiguity as “known-to-be- missing information, or not knowing relevant information that could be known”
- Organizational Behavior and Human Decision Processes, Volume 69, Issue 2 provides a table of definitions of uncertainty in a table.

# Citations to organise
[1] cite from Organizational Behavior and Human Decision Processes, Volume 69, Issue 2)
[2] https://dictionary.cambridge.org/dictionary/english/uncertainty
[3] defining uncertainty 2003